# 请停止把数据库称为 CP 或 AP

## CAP 使用了非常狭窄的定义

如果你想把 CAP 作为一个定理使用，那么要注意你所使用的词语的含义，必须跟它们在 CAP 中的含义一致。CAP 的证明使用了非常特殊的定义：

*   Consistency（一致性）：指线性一致性，它是一个有非常明确定义和非常强的一致性概念。特别注意，它和 ACID 中的 C 没有任何关系
*   Availability（可用性）：任何非故障节点都必须能够正确处理请求。许多号称「高可用」的系统都没有满足这个要求
*   Partition Tolerance（分区容错）：这意味着你在一个消息可能延迟或丢失的异步网络中通信。互联网和数据中心都有这个特性，所以这件事上我们没得选。

CAP 描述的是某种特定的系统模型：

*   CAP 定理描述的是一个支持读写的单寄存器模型。CAP 理论并没有提到涉及多个对象的事务问题，它已经超出了定理的范围，除非你可以把这些问题简化为单寄存器问题
*   CAP 定理考虑的唯一一种故障情况是网络分区。这种故障一定会发生，但实际上还有其它故障，例如节点宕机或重启、磁盘空间不足，软件bug等。构建分布式系统时，你需要考虑更加复杂的取舍问题。过于关注 CAP 定理会让你忽略其它重要的问题
*   CAP 定理不考虑延迟，但用户往往更关心延迟而不是可用性。事实上，满足 CAP 可用性的系统可以花任意长的时间来回复一个请求，但一个花费两分钟才加载出页面的系统无论如何都称不上是可用的

如果你使用的词语的含义跟证明中的精确定义相同，那么 CAP 定理适用于你。但如果你使用的词语有其它的含义，那么你不能期望 CAP 定理仍然适用

## 线性一致性

